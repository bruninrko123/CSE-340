<%- title %>
<h1><%- title %></h1>

<%- messages() %> <% if (errors) { %>
<ul class="notice">
  <% errors.array().forEach(error => { %>
  <li><%= error.msg %></li>
  <% }) %>
</ul>
<% } %>

<form action="#" method="post" class="loginForm">
  <label for="classification_id"
    >Classification: <%- classificationSelect %>
  </label>

  <label for="inv_make"
    >Vehicle make:
    <input
      type="text"
      name="inv_make"
      id="inv_make"
      value="<%= locals.inv_make %>"
      required
    />
  </label>

  <label for="inv_model"
    >Vehicle model:
    <input
      type="text"
      name="inv_model"
      id="inv_model"
      value="<%= locals.inv_model %>"
      required
    />
  </label>

  <label for="inv_year"
    >Vehicle year:
    <select
      name="inv_year"
      id="inv_year"
      value="<%= locals.inv_year %>"
      required
    >
      <option value="" disabled selected>Select a Year</option>
    </select>
  </label>

  <label for="inv_description"
    >Description of the Vehicle:
    <textarea
      name="inv_description"
      id="inv_description"
      placeholder="Write a description here"
      required
    ></textarea>
  </label>

  <label for="inv_price"
    >Price:
    <input type="number" name="inv_price" id="inv_price" required />
  </label>

  <label for="inv_miles"
    >Miles:
    <input type="number" name="inv_miles" id="inv_miles" required />
  </label>

  <label for="inv_color"
    >Color:
    <input type="text" name="inv_color" id="inv_color" required />
  </label>

  <label for=""></label>

  <button type="submit">Create new Classification</button>
</form>

<script>
  
  // doing the year select
  const yearSelect = document.getElementById("inv_year");
  const current_year = new Date().getFullYear();
  const earliest_year = 1890;

  for (let year = current_year; year >= earliest_year; year--) {
    let option = document.createElement("option");
    option.value = year;
    option.textContent = year;
    yearSelect.appendChild(option);
  }
</script>
